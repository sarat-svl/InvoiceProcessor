{% extends "pdf_processing/base.html" %}
{% load static %}

{% block title %}Invoice Processor - Home{% endblock %}

{% block content %}
<div class="page-header">
    <h2>PDF Document Processor</h2>
    <p>Upload PDF documents to extract text and metadata</p>
</div>

<!-- Upload Section -->
<section class="upload-section">
    <div class="card">
        <h3>ðŸ“¤ Upload PDF Document</h3>
        <form id="upload-form" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                <label for="pdf-file">Select PDF File</label>
                <div class="file-upload-wrapper">
                    <input type="file" id="pdf-file" name="file" accept=".pdf" required>
                    <div class="file-upload-display" id="file-display">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        <p class="file-upload-text">Click to browse or drag and drop PDF file here</p>
                        <p class="file-upload-hint" data-original-text="Maximum file size: {{ max_upload_size_mb }}MB">Maximum file size: {{ max_upload_size_mb }}MB</p>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="document-title">Document Title (Optional)</label>
                <input type="text" id="document-title" name="title" placeholder="Leave empty to use filename">
            </div>
            <button type="submit" class="btn btn-primary" id="upload-btn">
                <span class="btn-text">ðŸš€ Upload & Process</span>
                <span class="btn-spinner" style="display: none;">
                    <span class="spinner-small"></span>
                    Processing...
                </span>
            </button>
        </form>
        <div id="upload-message" class="upload-message" style="display: none;"></div>
    </div>
</section>

<!-- Documents List Section -->
<section class="documents-section">
    <div class="section-header">
        <h3>ðŸ“š Your Documents</h3>
        <button class="btn btn-secondary" id="refresh-btn">
            <span>ðŸ”„</span>
            Refresh
        </button>
    </div>
    <div id="documents-container">
        <div class="documents-loading">Loading documents...</div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'pdf_processing/js/home.js' %}"></script>
{% endblock %}

